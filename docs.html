<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>AIKnow-IT</title>
  <style>
    body{font-family:system-ui,Arial;margin:0;line-height:1.6;background:#0b0f17;color:#eef2ff}
    header,main,footer{max-width:980px;margin:0 auto;padding:22px 18px}
    nav a{color:#8bd0ff;text-decoration:none;margin-right:14px}
    .card{background:#111a2e;border:1px solid #243155;border-radius:16px;padding:18px;margin:14px 0}
    .muted{color:#b7c2ff}
    a{color:#8bd0ff}
    code{background:#0f1630;padding:2px 6px;border-radius:6px}
  </style>
</head>
<body>
<header>
  <h1 style="margin:0 0 10px;">AIKnow-IT</h1>
  <nav>
    <a href="index.html">Home</a>
    <a href="product.html">Product</a>
    <a href="docs.html">Docs</a>
    <a href="safety.html">Safety</a>
    <a href="security.html">Security</a>
    <a href="support.html">Support</a>
  </nav>
</header>

<main>
  <section class="card">
    <h2>Documentation</h2>
    <p class="muted">
      This page describes how AIKnow-IT integrates with TikTok in our n8n-based workflow.
      The integration enables users to connect their TikTok account and publish short videos via the Content Posting API.
    </p>
  </section>

  <section class="card">
    <h2>End-to-end TikTok flow</h2>
    <ol>
      <li><b>User connects TikTok (OAuth / Login):</b> the user authorizes access to their TikTok account.</li>
      <li><b>Fetch creator settings:</b> we call <code>/v2/post/publish/creator_info/query</code> to retrieve allowed <code>privacy_level</code> options and constraints.</li>
      <li><b>Prepare the post:</b> we generate a kid-safe caption and hashtags and select a privacy level that is allowed for the account.</li>
      <li><b>Initialize publishing:</b> we call <code>/v2/post/publish/video/init</code> to create a publish request and receive a <code>publish_id</code>
        (and an <code>upload_url</code> if using FILE_UPLOAD).</li>
      <li><b>Deliver the video:</b> one of the following methods is used depending on workflow configuration:
        <ul>
          <li><b>PULL_FROM_URL:</b> we provide a public MP4 URL so TikTok can download the video.</li>
          <li><b>FILE_UPLOAD:</b> we upload the MP4 file to the returned <code>upload_url</code>.</li>
        </ul>
      </li>
      <li><b>Confirm result:</b> we call <code>/v2/post/publish/status/fetch</code> with the <code>publish_id</code> until the status is completed or failed, then we log the outcome for monitoring.</li>
    </ol>
  </section>

  <section class="card">
    <h2>Scopes requested</h2>
    <ul>
      <li><code>video.publish</code> — required to publish videos via the Content Posting API.</li>
      <li class="muted">We request only the minimum scopes required for the features demonstrated in the integration.</li>
    </ul>
  </section>

  <section class="card">
    <h2>What the workflow publishes</h2>
    <ul>
      <li>Short, vertical videos (9:16) intended for ages 8–12.</li>
      <li>Kid-safe themes: friendship, learning, curiosity, humor.</li>
      <li>No adult content, violence, hate, or harassment (see <a href="safety.html">Safety</a>).</li>
    </ul>
  </section>

  <section class="card">
    <h2>Data handling (high level)</h2>
    <ul>
      <li><b>OAuth tokens:</b> we store refresh tokens securely to refresh access tokens when needed.</li>
      <li><b>Posting metadata:</b> caption/title, privacy settings, and minimal publish parameters.</li>
      <li><b>Logs:</b> limited technical logs for troubleshooting (status codes/timestamps). We do not intentionally log tokens.</li>
    </ul>
    <p class="muted">
      More details: <a href="security.html">Security & Data Handling</a>.
    </p>
  </section>

  <section class="card">
    <h2>Testing and demo video</h2>
    <p>
      For app review, we demonstrate the full end-to-end flow in the environment configured in the Developer Portal (sandbox when required).
      The demo video shows: OAuth consent, init publishing, video delivery (URL or upload), and status confirmation.
    </p>
  </section>
</main>

<footer class="muted">
  <p>
    <a href="terms.html">Terms of Service</a> •
    <a href="privacy.html">Privacy Policy</a>
  </p>
</footer>
</body>
</html>
